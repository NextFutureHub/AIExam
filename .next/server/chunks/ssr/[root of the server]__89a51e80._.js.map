{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/User/Desktop/AI%20Teacher/AIExam/src/ai/ai-instance.ts"],"sourcesContent":["import {genkit} from 'genkit';\r\nimport {googleAI} from '@genkit-ai/googleai';\r\n\r\nexport const ai = genkit({\r\n  promptDir: './prompts',\r\n  plugins: [\r\n    googleAI({\r\n      apiKey: process.env.GOOGLE_GENAI_API_KEY,\r\n    }),\r\n  ],\r\n  model: 'googleai/gemini-2.0-flash',\r\n});\r\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;AAAA;;;AAEO,MAAM,KAAK,CAAA,GAAA,uIAAA,CAAA,SAAM,AAAD,EAAE;IACvB,WAAW;IACX,SAAS;QACP,CAAA,GAAA,2KAAA,CAAA,WAAQ,AAAD,EAAE;YACP,QAAQ,QAAQ,GAAG,CAAC,oBAAoB;QAC1C;KACD;IACD,OAAO;AACT","debugId":null}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/User/Desktop/AI%20Teacher/AIExam/src/ai/flows/generate-grading-report.ts"],"sourcesContent":["// Use server directive is required to run Genkit flows in Next.js\r\n'use server';\r\n\r\n/**\r\n * @fileOverview AI-powered grading report generator for student work.\r\n *\r\n * - generateGradingReport - Function to generate a grading report based on student work and task criteria.\r\n * - GenerateGradingReportInput - Input type for the generateGradingReport function.\r\n * - GenerateGradingReportOutput - Output type for the generateGradingReport function.\r\n */\r\n\r\nimport {ai} from '@/ai/ai-instance';\r\nimport {z} from 'genkit';\r\n\r\n// Define the input schema for the grading report generation\r\nconst GenerateGradingReportInputSchema = z.object({\r\n  photoDataUri: z\r\n    .string()\r\n    .describe(\r\n      \"A photo of the student's work, as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'.\"\r\n    ),\r\n  taskCriteria: z\r\n    .string()\r\n    .describe('The grading criteria for the specific task in the exam.'),\r\n});\r\n\r\nexport type GenerateGradingReportInput = z.infer<\r\n  typeof GenerateGradingReportInputSchema\r\n>;\r\n\r\n// Define the output schema for the grading report\r\nconst GenerateGradingReportOutputSchema = z.object({\r\n  report: z.string().describe('The AI-generated grading report.'),\r\n});\r\n\r\nexport type GenerateGradingReportOutput = z.infer<\r\n  typeof GenerateGradingReportOutputSchema\r\n>;\r\n\r\n// Define the tool to determine the relevancy of the student's work to the task\r\nconst isImageRelevantToTask = ai.defineTool({\r\n  name: 'isImageRelevantToTask',\r\n  description:\r\n    'Determines whether the information in the image is relevant to the specified task criteria.',\r\n  inputSchema: z.object({\r\n    photoDataUri: z\r\n      .string()\r\n      .describe(\r\n        \"A photo of the student's work, as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'.\"\r\n      ),\r\n    taskCriteria: z\r\n      .string()\r\n      .describe('The grading criteria for the specific task in the exam.'),\r\n  }),\r\n  outputSchema: z.boolean().describe('True if the image is relevant, false otherwise.'),\r\n},\r\nasync input => {\r\n  // Placeholder implementation, replace with actual logic\r\n  // For example, use a vision model to analyze the image content\r\n  // and compare it with the task criteria.\r\n  // In a real implementation, you would use a more sophisticated\r\n  // method to determine relevancy.\r\n  return true; // Assuming the image is always relevant for now\r\n});\r\n\r\n// Define the prompt for generating the grading report\r\nconst generateGradingReportPrompt = ai.definePrompt({\r\n  name: 'generateGradingReportPrompt',\r\n  tools: [isImageRelevantToTask],\r\n  input: {\r\n    schema: z.object({\r\n      photoDataUri: z\r\n        .string()\r\n        .describe(\r\n          \"A photo of the student's work, as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'.\"\r\n        ),\r\n      taskCriteria: z\r\n        .string()\r\n        .describe('The grading criteria for the specific task in the exam.'),\r\n    }),\r\n  },\r\n  output: {\r\n    schema: z.object({\r\n      report: z.string().describe('The AI-generated grading report.'),\r\n    }),\r\n  },\r\n  prompt: `You are an AI grading assistant. Analyze the student's work in the image and generate a grading report in Russian based on the task criteria.\r\n\r\nTask Criteria: {{{taskCriteria}}}\r\n\r\nStudent Work (Image):\r\n{{media url=photoDataUri}}\r\n\r\nConsider the relevance of the image to the task criteria. If the image is not relevant, state that in the report. Use the 'isImageRelevantToTask' tool to determine whether the image is relevant to the task criteria.\r\n\r\nGenerate a detailed report.\r\n`,\r\n});\r\n\r\n// Define the Genkit flow for generating the grading report\r\nconst generateGradingReportFlow = ai.defineFlow<\r\n  typeof GenerateGradingReportInputSchema,\r\n  typeof GenerateGradingReportOutputSchema\r\n>({\r\n  name: 'generateGradingReportFlow',\r\n  inputSchema: GenerateGradingReportInputSchema,\r\n  outputSchema: GenerateGradingReportOutputSchema,\r\n},\r\nasync input => {\r\n  const {output} = await generateGradingReportPrompt(input);\r\n  return output!;\r\n});\r\n\r\n/**\r\n * Generates a grading report for a student's work based on the provided image and task criteria.\r\n * @param input - The input containing the student's work image and task criteria.\r\n * @returns A promise that resolves to the generated grading report.\r\n */\r\nexport async function generateGradingReport(\r\n  input: GenerateGradingReportInput\r\n): Promise<GenerateGradingReportOutput> {\r\n  return generateGradingReportFlow(input);\r\n}\r\n"],"names":[],"mappings":"AAAA,kEAAkE;;;;;;AAGlE;;;;;;CAMC,GAED;AACA;AAAA;;;;;;AAEA,4DAA4D;AAC5D,MAAM,mCAAmC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAChD,cAAc,uIAAA,CAAA,IAAC,CACZ,MAAM,GACN,QAAQ,CACP;IAEJ,cAAc,uIAAA,CAAA,IAAC,CACZ,MAAM,GACN,QAAQ,CAAC;AACd;AAMA,kDAAkD;AAClD,MAAM,oCAAoC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACjD,QAAQ,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AAC9B;AAMA,+EAA+E;AAC/E,MAAM,wBAAwB,2HAAA,CAAA,KAAE,CAAC,UAAU,CAAC;IAC1C,MAAM;IACN,aACE;IACF,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QACpB,cAAc,uIAAA,CAAA,IAAC,CACZ,MAAM,GACN,QAAQ,CACP;QAEJ,cAAc,uIAAA,CAAA,IAAC,CACZ,MAAM,GACN,QAAQ,CAAC;IACd;IACA,cAAc,uIAAA,CAAA,IAAC,CAAC,OAAO,GAAG,QAAQ,CAAC;AACrC,GACA,OAAM;IACJ,wDAAwD;IACxD,+DAA+D;IAC/D,yCAAyC;IACzC,+DAA+D;IAC/D,iCAAiC;IACjC,OAAO,MAAM,gDAAgD;AAC/D;AAEA,sDAAsD;AACtD,MAAM,8BAA8B,2HAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IAClD,MAAM;IACN,OAAO;QAAC;KAAsB;IAC9B,OAAO;QACL,QAAQ,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;YACf,cAAc,uIAAA,CAAA,IAAC,CACZ,MAAM,GACN,QAAQ,CACP;YAEJ,cAAc,uIAAA,CAAA,IAAC,CACZ,MAAM,GACN,QAAQ,CAAC;QACd;IACF;IACA,QAAQ;QACN,QAAQ,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;YACf,QAAQ,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;QAC9B;IACF;IACA,QAAQ,CAAC;;;;;;;;;;AAUX,CAAC;AACD;AAEA,2DAA2D;AAC3D,MAAM,4BAA4B,2HAAA,CAAA,KAAE,CAAC,UAAU,CAG7C;IACA,MAAM;IACN,aAAa;IACb,cAAc;AAChB,GACA,OAAM;IACJ,MAAM,EAAC,MAAM,EAAC,GAAG,MAAM,4BAA4B;IACnD,OAAO;AACT;AAOO,eAAe,uCAAmB,GAAnB,sBACpB,KAAiC;IAEjC,OAAO,0BAA0B;AACnC;;;IAJsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 337, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 388, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/User/Desktop/AI%20Teacher/AIExam/src/app/exam/%5BexamId%5D/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/exam/[examId]/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/exam/[examId]/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAkS,GAC/T,gEACA","debugId":null}},
    {"offset": {"line": 402, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/User/Desktop/AI%20Teacher/AIExam/src/app/exam/%5BexamId%5D/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/exam/[examId]/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/exam/[examId]/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA8Q,GAC3S,4CACA","debugId":null}},
    {"offset": {"line": 416, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}